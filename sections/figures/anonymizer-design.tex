\begin{tikzpicture}[node distance=20pt]

\node [draw] (client) {Client};

\node [draw,
       right=of client] (proxy) {TCP proxy};

\node [draw,
       above right=of proxy,
       yshift=-10pt,
       fill=gray] (service) {{\color{white} Service}};

\node [draw,
       below right=of proxy] (anonymizer) {Anonymizer};

\node [draw,
       right=of anonymizer,
       fill=gray] (backend) {{\color{white} Back end}};

\draw [-latex] (client.east) -- (proxy.west);
\draw [-latex] (proxy.east) -- (service.west);
\draw [-latex] (proxy.east) -- (anonymizer.west)
    node [midway, fill=white] {{\footnotesize Mirrored request}};
\draw [-latex] (anonymizer.east) -- (backend.west);

\end{tikzpicture}
